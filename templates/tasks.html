{% extends "base.html" %}

{% block content %}

<h1 class="page-title">All tasks on JobDash</h1>
<p class="page-subtitle">
  Browse every job currently available. New tasks are added by local people who need help.
</p>

<section class="section">
  {% if jobs and jobs|length > 0 %}
    <div class="task-list">
      {% for job in jobs %}
        <article class="task-card">
          <div class="task-main">
            <div class="task-title">{{ job.get("title", "Quick task") }}</div>
            <div class="task-meta">
              {{ job.get("location", "Portland") }}
              · {{ job.get("category", "General help") }}
            </div>
            <div class="task-tags">
              <span class="task-tag">Cash pay</span>
              <span class="task-tag">{{ job.get("pay_type", "Fixed rate") }}</span>
            </div>
          </div>
          <div class="task-right">
            <div>{{ job.get("pay", "$ —") }}</div>
            <a href="/tasks/{{ job.get('id') }}">View details →</a>
          </div>
        </article>
      {% endfor %}
    </div>
  {% else %}
    <p class="pill-muted">
      No tasks have been posted yet. Once clients post jobs, they will appear here.
    </p>
  {% endif %}
</section>

{% endblock %}
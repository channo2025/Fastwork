{% extends "base.html" %}
{% block content %}
<h2 class="section-title">Browse jobs</h2>

<div class="card card-pad">
  <form action="/jobs" method="get" class="searchbar">
    <input name="q" value="{{ q }}" placeholder="Search jobs (e.g., moving, cleaning)" />
    <input name="city" value="{{ city }}" placeholder="City or ZIP" />
    <button class="btn btn-primary" type="submit">Search</button>
  </form>
</div>

<div style="height:14px;"></div>

{% if jobs|length == 0 %}
  <div class="card card-pad">
    <div class="muted">No jobs found. Try another search or post a job.</div>
    <div class="actions" style="margin-top:12px;">
      <a class="btn btn-primary" href="/post-a-job">Post a job</a>
    </div>
  </div>
{% else %}
  <div class="grid-3">
    {% for j in jobs %}
    <div class="card card-pad job-item">
      <h3>{{ j.title }}</h3>
      <div class="job-meta">{{ j.city }} · {{ j.category }} · {{ j.pay }}</div>
      <div class="job-desc">{{ j.description }}</div>
      <div class="actions">
        <a class="btn btn-ghost" href="/job/{{ j.id }}">View details</a>
        <a class="btn btn-primary" href="/apply?job_id={{ j.id }}">Apply</a>
      </div>
    </div>
    {% endfor %}
  </div>
{% endif %}
{% endblock %}